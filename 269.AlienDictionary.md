# 269. Alien Dictionary
- 269. Alien Dictionary [Graph] [Topological Sort] [Hard]

#### Tags
- [Graph] [Topological Sort] [Hard]

#### Problem
There is a new alien language which uses the latin alphabet. However, the order among letters are unknown to you. You receive a list of non-empty words from the dictionary, where words are sorted lexicographically by the rules of this new language. Derive the order of letters in this language.

Example 1:

    Input:
    [
      "wrt",
      "wrf",
      "er",
      "ett",
      "rftt"
    ]
    Output: "wertf"

Example 2:

    Input:
    [
      "z",
      "x"
    ]
    Output: "zx"

Example 3:

    Input:
    [
      "z",
      "x",
      "z"
    ] 
    Output: "" 
    Explanation: The order is invalid, so return "".

**Note**:

1. You may assume all letters are in lowercase.
2. You may assume that if a is a prefix of b, then a must appear before b in the given dictionary.
3. If the order is invalid, return an empty string.
4. There may be multiple valid order of letters, return any one of them is fine.

#### Solution
``` C++
class Solution {
public:
    string alienOrder(vector<string> &words) {
        if (words.empty()) {
            return "";
        }
        
        unordered_map<char, int> degree;
        for (string word : words) {
            for (char c : word) {
                degree[c] = 0;
            }
        }
        
        unordered_map<char, vector<char>> graph;
        for (int i = 0; i < words.size() - 1; i++) {
            int minLen = min(words[i].size(), words[i + 1].size());
            for (int j = 0; j < minLen; j++) {
                if (words[i][j] != words[i + 1][j]) {
                    graph[words[i][j]].push_back(words[i + 1][j]);
                    break;
                }
            }
        }
        
        for (pair<const char, vector<char>> g : graph) {
            for (char c : g.second) {
                degree[c]++;
            }
        }
        
        queue<char> q;
        for (pair<const char, int> d : degree) {
            if (d.second == 0) {
                q.push(d.first);
            }
        }
        
        string result;
        while (!q.empty()) {
            char ch = q.front();
            q.pop();
            result.push_back(ch);
            for (char c : graph[ch]) {
                degree[c]--;
                if (degree[c] == 0) {
                    q.push(c);
                }
            }
        }
        
        if (result.size() != degree.size()) {
            return "";
        }
        return result;
    }
};
```

#### Notes
- Topological Sort, Use Breadth-first Search, 20181219.

#### Related Problems
- 269. Alien Dictionary [Graph] [Topological Sort] [Hard]
- 953. Verifying an Alien Dictionary [Hash Table] [Easy]